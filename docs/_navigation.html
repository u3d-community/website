<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>U3D: Navigation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign">
   <div id="projectname">U3D
   </div>
   <div id="projectbrief">Open-source, cross-platform 2D and 3D game engine built in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_navigation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Navigation </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Urho3D implements navigation mesh generation and pathfinding by using the Recast &amp; Detour libraries.</p>
<p >The navigation functionality is exposed through the <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a> and <a class="el" href="class_urho3_d_1_1_navigable.html" title="Component which tags geometry for inclusion in the navigation mesh. Optionally auto-includes geometry...">Navigable</a> components.</p>
<p ><a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a> collects geometry from its child nodes that have been tagged with the <a class="el" href="class_urho3_d_1_1_navigable.html" title="Component which tags geometry for inclusion in the navigation mesh. Optionally auto-includes geometry...">Navigable</a> component. By default the <a class="el" href="class_urho3_d_1_1_navigable.html" title="Component which tags geometry for inclusion in the navigation mesh. Optionally auto-includes geometry...">Navigable</a> component behaves recursively: geometry from its child nodes will be collected too, unless the recursion is disabled. If possible, physics <a class="el" href="class_urho3_d_1_1_collision_shape.html" title="Physics collision shape component.">CollisionShape</a> geometry is preferred, however only the triangle mesh, convex hull and box shapes are supported. If no suitable physics geometry is found from a node, static drawable geometry is used instead from <a class="el" href="class_urho3_d_1_1_static_model.html" title="Static model component.">StaticModel</a> and <a class="el" href="class_urho3_d_1_1_terrain_patch.html" title="Individually rendered part of a heightmap terrain.">TerrainPatch</a> components if they exist. The LOD level used is the same as for occlusion and raycasts (see <a class="el" href="class_urho3_d_1_1_static_model.html#a72577798f3e704313c7f729cbd9de9b4">SetOcclusionLodLevel()</a>.</p>
<p >The easiest way to make the whole scene participate in navigation mesh generation is to create the NavigationMesh and Navigable components to the scene root node.</p>
<p >The navigation mesh generation must be triggered manually by calling <a class="el" href="class_urho3_d_1_1_navigation_mesh.html#a38f762e87f10300096e08666fbafb443">Build()</a>. After the initial build, portions of the mesh can also be rebuilt by specifying a world bounding box for the volume to be rebuilt, but this can not expand the total bounding box size. Once the navigation mesh is built, it will be serialized and deserialized with the scene.</p>
<p >To query for a path between start and end points on the navigation mesh, call <a class="el" href="class_urho3_d_1_1_navigation_mesh.html#a4aca6e05000134e8c07a5e4d640ed4c4">FindPath()</a>.</p>
<p >For a demonstration of the navigation capabilities, check the related sample application (15_Navigation), which features partial navigation mesh rebuilds (objects can be created and deleted) and querying paths.</p>
<p >Navigation meshes may be generated using either Watershed or Monotone triangulation. Watershed will typically produce more polygons that produce more natural paths while monotone is faster to generate but may produce undesirable path artifacts.</p>
<h1><a class="anchor" id="PathfindingWeights"></a>
Pathfinding weights</h1>
<p >Axis-aligned box regions of the navigation mesh may marked as belonging to specific 'area types' using <a class="el" href="class_urho3_d_1_1_nav_area.html">NavArea</a> components. The weight for a given area type is assigned using the SetAreaCost(unsigned, float) method of the <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a> (or <a class="el" href="class_urho3_d_1_1_dynamic_navigation_mesh.html">DynamicNavigationMesh</a>).</p>
<h1><a class="anchor" id="DynamicNavMesh"></a>
Dynamic Navigation Mesh</h1>
<p >The DetourTileCache library is used to provide a variant of the <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a> that supports the addition and removal of dynamic obstacles, the trade-off for which is almost twice the memory consumption. However, the addition and removal of obstacles is significantly faster than partially rebuilding a <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a>.</p>
<p >Obstacles are limited to cylindrical shapes consisting of a radius and height. When an obstacle is added (or enabled) DetourTileCache will use a stored copy of the obstacle free <a class="el" href="class_urho3_d_1_1_dynamic_navigation_mesh.html">DynamicNavigationMesh</a> to regenerate the relevant tiles.</p>
<p >Changes that cannot be represented in the form of obstacles will require a partial rebuild using the Build() method and have no advantages over rebuilds of the standard <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a>.</p>
<p >In all other facets the usage of the <a class="el" href="class_urho3_d_1_1_dynamic_navigation_mesh.html">DynamicNavigationMesh</a> is identical to that of the regular <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a>. See the 39_CrowdNavigation sample application for usage of Obstacles and the <a class="el" href="class_urho3_d_1_1_dynamic_navigation_mesh.html">DynamicNavigationMesh</a>.</p>
<h1><a class="anchor" id="CrowdNavigation"></a>
Crowd navigation</h1>
<p >In addition to the basic pathfinding, additional navigation components use the DetourCrowd library for pathfinding between crowd agents and possibility to add dynamic obstacles. These components are <a class="el" href="class_urho3_d_1_1_dynamic_navigation_mesh.html">DynamicNavigationMesh</a>, <a class="el" href="class_urho3_d_1_1_crowd_manager.html" title="Crowd manager scene component. Should be added only to the root scene node.">CrowdManager</a>, <a class="el" href="class_urho3_d_1_1_crowd_agent.html" title="Crowd agent component, requires a CrowdManager component in the scene. When not set explicitly,...">CrowdAgent</a>, <a class="el" href="class_urho3_d_1_1_nav_area.html">NavArea</a> &amp; <a class="el" href="class_urho3_d_1_1_obstacle.html" title="Obstacle for dynamic navigation mesh.">Obstacle</a>.</p>
<p ><a class="el" href="class_urho3_d_1_1_crowd_agent.html" title="Crowd agent component, requires a CrowdManager component in the scene. When not set explicitly,...">CrowdAgent</a>'s navigate using "targets" which is assigned with the SetMoveTarget(Vector3) method. The agent will halt upon reaching its' destination. To halt an agent in progress set it's move target to its current position.</p>
<p ><a class="el" href="class_urho3_d_1_1_crowd_agent.html" title="Crowd agent component, requires a CrowdManager component in the scene. When not set explicitly,...">CrowdAgent</a>'s will fire events under different circumstances. The most important of which is the CrowdAgentFailureEvent which will be sent if the <a class="el" href="class_urho3_d_1_1_crowd_agent.html" title="Crowd agent component, requires a CrowdManager component in the scene. When not set explicitly,...">CrowdAgent</a> is either in an invalid state (such as off of the <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a>) or if the target destination is no longer reachable through the <a class="el" href="class_urho3_d_1_1_navigation_mesh.html" title="Navigation mesh component. Collects the navigation geometry from child nodes with the Navigable compo...">NavigationMesh</a>. As the <a class="el" href="class_urho3_d_1_1_crowd_agent.html" title="Crowd agent component, requires a CrowdManager component in the scene. When not set explicitly,...">CrowdAgent</a> moves through space it may send other events regarding it's current state using the CrowdAgentStateChanged event which will include state as CROWD_AGENT_TARGET_ARRIVED when the agent has reach the target destination.</p>
<p >CrowdAgents' handle navigation areas differently. The <a class="el" href="class_urho3_d_1_1_crowd_manager.html" title="Crowd manager scene component. Should be added only to the root scene node.">CrowdManager</a> can contains 16 different "Filter types" (0 - 15) which have different settings for area costs. These costs are assigned in the <a class="el" href="class_urho3_d_1_1_crowd_manager.html" title="Crowd manager scene component. Should be added only to the root scene node.">CrowdManager</a> using the SetAreaCost(unsigned filterTypeID, unsigned areaID, float weight) method. The filter the <a class="el" href="class_urho3_d_1_1_crowd_agent.html" title="Crowd agent component, requires a CrowdManager component in the scene. When not set explicitly,...">CrowdAgent</a> will use is assigned to the agent using its' SetNavigationFilterType(unsigned filterTypeID) method.</p>
<p >See the 39_CrowdNavigation sample application for an example on how to use CrowdAgents and the <a class="el" href="class_urho3_d_1_1_crowd_manager.html" title="Crowd manager scene component. Should be added only to the root scene node.">CrowdManager</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jan 5 2023 09:48:45 for U3D by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
